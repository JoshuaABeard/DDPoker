# DD Poker REST API Configuration

# Server
server.port=${SERVER_PORT:8080}
server.servlet.context-path=/
# Override old pokerserver.properties setting
settings.server.port=8080

# Spring Configuration
spring.main.allow-bean-definition-overriding=true

# JWT Configuration
# Optional: Set JWT_SECRET environment variable (min 256 bits / 32 characters)
# If not set, a secure secret is auto-generated and saved to $WORK/jwt.secret
jwt.secret=${JWT_SECRET:}
jwt.expiration=86400000
jwt.remember-me-expiration=2592000000

# CORS Configuration
# Automatically uses SERVER_HOST from docker-compose for production
# Allows both HTTP and HTTPS (for reverse proxy setups)
# Override with CORS_ALLOWED_ORIGINS if you need custom origins
server.host=${SERVER_HOST:localhost}
cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://${server.host}:3000,http://${server.host}:8080,https://${server.host}}

# Database Configuration
db.driver=${DB_DRIVER:org.h2.Driver}
db.url=${DB_URL:jdbc:h2:/data/poker}
db.user=${DB_USER:sa}
db.password=${DB_PASSWORD:}

# JPA/Hibernate Configuration
jpa.persistence.location=classpath:META-INF/persistence-pokerserver.xml
jpa.persistence.name=poker

# Logging
logging.level.com.donohoedigital.poker.api=INFO
logging.level.org.springframework.security=INFO
logging.level.com.donohoedigital.games.server=INFO
logging.level.com.donohoedigital.games.poker=INFO

# Import existing DD Poker configuration
# These will be loaded from classpath (pokerserver module)
